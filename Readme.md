
```bash
这是一份没有被问到过的面试题,因为没面试通过,所以答案也并不保证准确,你可以快速的扫描该目录,不要在这些题上浪费时间
```
<!-- TOC -->

- [1. Go语言特性](#1-go语言特性)
    - [1.1 slice](#11-slice)
    - [1.2 map](#12-map)
    - [1.3 defer](#13-defer)
- [2. Go并发](#2-go并发)
    - [2.1 mutex](#21-mutex)
    - [2.2 rwmutex](#22-rwmutex)
    - [2.3 once](#23-once)
    - [2.4 mutex](#24-mutex)
    - [2.5 map](#25-map)
    - [2.6 waitgroup](#26-waitgroup)
    - [2.7 context](#27-context)
    - [2.8 GMP](#28-gmp)
- [3. 定时器与IO](#3-定时器与io)
    - [3.1 定时器实现](#31-定时器实现)
    - [3.2 IO](#32-io)
- [4.微服务](#4微服务)
    - [4.1 服务注册中心](#41-服务注册中心)
    - [4.2 限流机制](#42-限流机制)
    - [4.3 断路器](#43-断路器)
    - [4.4 snowflake](#44-snowflake)
    - [4.5 缓存相关](#45-缓存相关)
    - [4.6 分布式锁](#46-分布式锁)
    - [4.7 TCC](#47-tcc)
    - [4.8 最终一致性](#48-最终一致性)
    - [4.9 负载均衡算法](#49-负载均衡算法)
- [5. 计算机基础](#5-计算机基础)
    - [5.1 buddy与slab](#51-buddy与slab)
    - [5.2 TLB/MMU/Hugepage](#52-tlbmmuhugepage)
    - [5.3 直接IO与缓存IO](#53-直接io与缓存io)
    - [5.4 IO调度算法](#54-io调度算法)
    - [5.5 多路复用](#55-多路复用)
    - [5.6 mmap](#56-mmap)
    - [5.7 sendfile](#57-sendfile)
    - [5.8 TCP状态机](#58-tcp状态机)
    - [5.9 三次握手](#59-三次握手)
    - [5.10 四次断开](#510-四次断开)
    - [5.11 滑动窗口](#511-滑动窗口)
    - [5.12 拥塞控制](#512-拥塞控制)
    - [5.13 keepalive](#513-keepalive)
    - [5.14 Nagle](#514-nagle)
    - [5.15 序列号回绕与流分段](#515-序列号回绕与流分段)
    - [5.16 http2.0](#516-http20)
- [6.数据结构与算法](#6数据结构与算法)
    - [6.1 算法思想](#61-算法思想)
    - [6.2 归并排序](#62-归并排序)
    - [6.3 快速排序](#63-快速排序)
    - [6.4 LRU实现](#64-lru实现)
    - [6.5 LFU实现](#65-lfu实现)
    - [6.6 RingBuffer](#66-ringbuffer)
    - [6.7 二分搜索](#67-二分搜索)
    - [6.8 快速查找](#68-快速查找)
    - [6.8 基础](#68-基础)
    - [6.9 最短路径](#69-最短路径)
    - [6.10 拓扑排序](#610-拓扑排序)
    - [6.11 图环检测](#611-图环检测)
    - [6.12 红黑树](#612-红黑树)
    - [6.13 B树](#613-b树)
    - [6.14 B+树](#614-b树)
    - [6.15 Trie树](#615-trie树)
    - [6.16 布隆过滤器](#616-布隆过滤器)
- [7. 30篇kubernetes源码分析](#7-30篇kubernetes源码分析)
- [8. 100道leetcode](#8-100道leetcode)

<!-- /TOC -->
# 1. Go语言特性
## 1.1 slice
```go
type slice struct {
	array unsafe.Pointer
	len   int
	cap   int
}
```
slice在底层实现上主要分为三个部分：数组指针、当前长度、容量，在append添加元素的时候会进行扩容，扩容算法>1024的时候，双倍扩容，大于1024则25%增长
## 1.2 map
map的实现时基于拉链法实现，其将每8个元素为一个bucket来进行存储，如果对应的容量超过8个则会进行重新申一个bucket并通过overflow指针来进行存，在进行内存申请的时候，会根据元素的数量和map的负载因子(当前是7.5)来决定要申请的bucket的数量

在map中元素的寻找元素的key比对首先是通过高8位hash来进行对比如果hash值相同再进行具体元素数据的比对

在hash扩容的时候map采用逐步分批迁移的策略，首先会在旧桶里面将本次查询存在的元素来进行迁移，然后会检测当前是否在扩容的过程中，如果存在则就会进行下一批数据(1024)的迁移
```go
func bucketEvacuated(t *maptype, h *hmap, bucket uintptr) bool {
	b := (*bmap)(add(h.oldbuckets, bucket*uintptr(t.bucketsize)))
	return evacuated(b)
}
```
这三行代码就是迁移oldbuckets里面的数据到新的map中, 如果面试官问到你，你可以让他给你讲讲
## 1.3 defer
defer关键机制有两个: 立即求值与FILO

立即求值：实现上在注册deferproc的时候，会获取当前变量的值, 然后进行注册,此时如果不是指针类型则会调用memmove来进行参数的拷贝，所以是立即求值

FILO：因为defer只有函数执行到指定位置后才会进行注册，所以事先无法知道函数defer注册的函数数量，所以不能用数组，所以就只能用链表了，每次deferproce注册的时候，就只需要指向之前的head头结点，就可以进行注册函数的保存了，所以是基于单链表，curr.link=gp._defer所以就是后进先出

# 2. Go并发
## 2.1 mutex
mutex实现主要是分为两种模式：正常模式与饥饿模式，外加三种状态机：starving(饥饿)、woken(唤醒状态)、locked(锁定状态)

正常模式：所有的goroutine同时进行锁获取，当前正在cpu上执行的goroutine进行自旋执行锁抢占更容易成功，因为其正在运行，其会更新为woken状态，即当前有唤醒的goroutine,其他的goroutine释放锁之后不需要进行唤醒操作

饥饿模式：饥饿模式主要是指的如果当goroutine发现等待时间超过饥饿时间，就会进行cas修改锁的状态为饥饿状态，当检测到饥饿模式则就需要通过semphore信号量来进行睡眠，依次排队等候锁，如果有节点释放锁的时候，如果发现当前没有唤醒的goroutine,则就去尝试唤醒在信号量睡眠的goroutine

正常模式是非公平的，饥饿模式下是公平的
## 2.2 rwmutex
读写锁的实现，主要是通过mutex、信号量和锁计数来实现
## 2.3 once
## 2.4 mutex
## 2.5 map
## 2.6 waitgroup
## 2.7 context
## 2.8 GMP
分布式、拷贝栈、抢占中断、三级队列
# 3. 定时器与IO
## 3.1 定时器实现
## 3.2 IO
# 4.微服务
## 4.1 服务注册中心
## 4.2 限流机制
## 4.3 断路器
## 4.4 snowflake
## 4.5 缓存相关
雪崩、穿透、击穿、一致性
## 4.6 分布式锁
## 4.7 TCC
## 4.8 最终一致性
## 4.9 负载均衡算法
# 5. 计算机基础
## 5.1 buddy与slab
## 5.2 TLB/MMU/Hugepage
## 5.3 直接IO与缓存IO
## 5.4 IO调度算法
## 5.5 多路复用
## 5.6 mmap
## 5.7 sendfile
## 5.8 TCP状态机
## 5.9 三次握手
目标、状态、为什么
## 5.10 四次断开
状态、timewait、closewait
## 5.11 滑动窗口
## 5.12 拥塞控制
## 5.13 keepalive
## 5.14 Nagle
## 5.15 序列号回绕与流分段
## 5.16 http2.0
# 6.数据结构与算法
## 6.1 算法思想
## 6.2 归并排序
## 6.3 快速排序
## 6.4 LRU实现
## 6.5 LFU实现
## 6.6 RingBuffer
## 6.7 二分搜索
## 6.8 快速查找
## 6.8 基础
队列、栈、堆
## 6.9 最短路径
## 6.10 拓扑排序
## 6.11 图环检测
## 6.12 红黑树
## 6.13 B树
## 6.14 B+树
## 6.15 Trie树
## 6.16 布隆过滤器
# 7. 30篇kubernetes源码分析
# 8. 100道leetcode
